<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · ImageView.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>ImageView.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Home</a><ul class="internal"></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Home</a></li></ul></nav><hr/><div id="topbar"><span>Home</span><a class="fa fa-bars" href="#"></a></div></header><p>Package doesn&#39;t contain Documenter docs.</p><p>Docs automatically generated by juliadocs.org</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.CLim" href="#ImageView.CLim"><code>ImageView.CLim</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">CLim(cmin, cmax)</code></pre><p>Specify contrast limits where <code>x &lt;= cmin</code> will be rendered as black, and <code>x &gt;= cmax</code> will be rendered as white.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.canvasgrid" href="#ImageView.canvasgrid"><code>ImageView.canvasgrid</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">grid, frames, canvases = canvasgrid((ny, nx))</code></pre><p>Create a grid of <code>ny</code>-by-<code>nx</code> canvases for drawing. <code>grid</code> is a GtkGrid layout, <code>frames</code> is an <code>ny</code>-by-<code>nx</code> array of GtkAspectRatioFrames that contain each canvas, and <code>canvases</code> is an <code>ny</code>-by-<code>nx</code> array of canvases.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.imlink-Tuple" href="#ImageView.imlink-Tuple"><code>ImageView.imlink</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">imlink(imgs...; gridsize=(1,length(imgs)), dims=(1,2))</code></pre><p>Show multiple images in a single window, linking higher-dimensional axes to shared GUI control(s).</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.imshow!-Union{Tuple{T}, Tuple{Canvas{UserUnit},Signal,Signal{ZoomRegion{T}}}, Tuple{Canvas{UserUnit},Signal,Signal{ZoomRegion{T}},Signal{Dict{UInt64,Any}}}} where T&lt;:Union{RSigned, RUnsigned}" href="#ImageView.imshow!-Union{Tuple{T}, Tuple{Canvas{UserUnit},Signal,Signal{ZoomRegion{T}}}, Tuple{Canvas{UserUnit},Signal,Signal{ZoomRegion{T}},Signal{Dict{UInt64,Any}}}} where T&lt;:Union{RSigned, RUnsigned}"><code>ImageView.imshow!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">imshow!(canvas, img) -&gt; drawsignal
imshow!(canvas, img::Signal, zr::Signal{ZoomRegion}) -&gt; drawsignal
imshow!(frame::Frame, canvas, img::Signal, zr::Signal{ZoomRegion}) -&gt; drawsignal
imshow!(..., annotations=Signal(Dict{UInt,Any}()))</code></pre><p>Display the image <code>img</code>, in the specified <code>canvas</code>. Use the version with <code>zr</code> if you have already turned on rubber-banding or other pan/zoom interactivity for <code>canvas</code>. Returns the Reactive <code>drawsignal</code> used for updating the canvas.</p><p>If you supply <code>frame</code>, then the pixel aspect ratio will be set to that of <code>pixelspacing(img)</code>.</p><p>With any of these forms, you may optionally supply <code>annotations</code>.</p><p>This only creates the <code>draw</code> method for <code>canvas</code>; mouse- or key-based interactivity can be set up via <a href="#ImageView.imshow-Tuple{AbstractArray}"><code>imshow</code></a> or, at a lower level, using GtkReactive&#39;s tools:</p><ul><li><code>init_zoom_rubberband</code></li><li><code>init_zoom_scroll</code></li><li><code>init_pan_scroll</code></li><li><code>init_pan_drag</code></li></ul><p><strong>Example</strong></p><p>```julia using ImageView, GtkReactive, Gtk.ShortNames, TestImages</p><p><strong>Create a window with a canvas in it</strong></p><p>win = Window() c = canvas(UserUnit) push!(win, c) Gtk.showall(win)</p><p><strong>Load images</strong></p><p>mri = testimage(&quot;mri&quot;)</p><p><strong>Display the image</strong></p><p>imshow!(c, mri[:,:,1])</p><p><strong>Update with a different image</strong></p><p>imshow!(c, mri[:,:,8])</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.imshow-Tuple{AbstractArray}" href="#ImageView.imshow-Tuple{AbstractArray}"><code>ImageView.imshow</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">imshow(img; axes=(1,2), name=&quot;ImageView&quot;) -&gt; guidict
imshow(img, clim; axes=(1,2), name=&quot;ImageView&quot;) -&gt; guidict
imshow(img, clim, zoomregion, slicedata, annotations; axes=(1,2), name=&quot;ImageView&quot;) -&gt; guidict</code></pre><p>Display the image <code>img</code> in a new window titled with <code>name</code>, returning a dictionary <code>guidict</code> containing any Reactive signals or GtkReactive widgets. If the image is 3 or 4 dimensional, GUI controls will be added for slicing along &quot;extra&quot; axes. By default the two-dimensional slice containing axes 1 and 2 are shown, but that can be changed by passing a different setting for <code>axes</code>.</p><p>If the image is grayscale, by default contrast is set by a <code>scaleminmax</code> object whose end-points can be modified by right-clicking on the image. If <code>clim == nothing</code>, the image&#39;s own native contrast is used (<code>clamp01nan</code>).  You may also pass a custom contrast function.</p><p>Finally, you may specify <a href="@ref"><code>GtkReactive.ZoomRegion</code></a> and <a href="#ImageView.SliceData-Union{Tuple{N}, Tuple{transpose}, Tuple{Tuple{Vararg{Signal{Int64},N}},Tuple{Vararg{Axis,N}}}} where N where transpose"><code>SliceData</code></a> signals. See also <a href="#ImageView.roi-Tuple{Any}"><code>roi</code></a>, as well as any <code>annotations</code> that you wish to apply.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.imshow-Tuple{}" href="#ImageView.imshow-Tuple{}"><code>ImageView.imshow</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">imshow()</code></pre><p>Choose an image to display via a file dialog.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.imshow-Union{Tuple{T}, Tuple{Canvas{UserUnit},Signal}, Tuple{Canvas{UserUnit},Signal,Signal{ZoomRegion{T}}}, Tuple{Canvas{UserUnit},Signal,Signal{ZoomRegion{T}},Signal{Dict{UInt64,Any}}}} where T&lt;:Union{RSigned, RUnsigned}" href="#ImageView.imshow-Union{Tuple{T}, Tuple{Canvas{UserUnit},Signal}, Tuple{Canvas{UserUnit},Signal,Signal{ZoomRegion{T}}}, Tuple{Canvas{UserUnit},Signal,Signal{ZoomRegion{T}},Signal{Dict{UInt64,Any}}}} where T&lt;:Union{RSigned, RUnsigned}"><code>ImageView.imshow</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">imshow(canvas, imgsig::Signal) -&gt; guidict
imshow(canvas, imgsig::Signal, zr::Signal{ZoomRegion}) -&gt; guidict
imshow(frame::Frame, canvas, imgsig::Signal, zr::Signal{ZoomRegion}) -&gt; guidict</code></pre><p>Display <code>imgsig</code> (a <code>Signal</code> of an image) in <code>canvas</code>, setting up panning and zooming. Optionally include a <code>frame</code> for preserving aspect ratio. <code>imgsig</code> must be two-dimensional (but can be a Signal-view of a higher-dimensional object).</p><p><strong>Example</strong></p><pre><code class="language-julia">using ImageView, TestImages, Gtk
mri = testimage(&quot;mri&quot;);
# Create a canvas `c`. There are other approaches, like stealing one from a previous call
# to `imshow`, or using GtkReactive directly.
guidict = imshow_gui((300, 300))
c = guidict[&quot;canvas&quot;];
# To see anything you have to call `showall` on the window (once)
Gtk.showall(guidict[&quot;window&quot;])
# Create the image Signal
imgsig = Signal(mri[:,:,1]);
# Show it
imshow(c, imgsig)
# Now anytime you want to update, just push! a new image
push!(imgsig, mri[:,:,8])</code></pre></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.imshow_gui" href="#ImageView.imshow_gui"><code>ImageView.imshow_gui</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">guidict = imshow_gui(canvassize; name=&quot;ImageView&quot;, aspect=:auto)
guidict = imshow_gui(canvassize, slicedata, gridsize=(1,1); name=&quot;ImageView&quot;, aspect=:auto)</code></pre><p>Create an image-viewer GUI. By default creates a single canvas, but with custom <code>gridsize</code> you can create a grid of canvases. <code>canvassize = (szx, szy)</code> describes the desired size of the (or each) canvas. <code>slicedata</code> is an object created by <a href="#ImageView.roi-Tuple{Any}"><code>roi</code></a> that encodes the necessary information for creating player widgets for viewing multidimensional images.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.roi-Tuple{Any}" href="#ImageView.roi-Tuple{Any}"><code>ImageView.roi</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">roi(A) -&gt; zr::Signal(ZoomRegion), slicedata::SliceData
roi(A, dims=(1,2)) -&gt; zr::Signal(ZoomRegion), slicedata::SliceData
roi(A, (:namey, :namex)) -&gt; zr::Signal(ZoomRegion), slicedata::SliceData</code></pre><p>Create the initial &quot;region of interest&quot; for viewing <code>A</code>. For multidimensional objects, optionally select two dimensions (the first two, by default) for slicing. The outputs <code>zr</code> and <code>slicedata</code> describe the within-view and player-controlled axes, respectively.</p><p>See also: <a href="#ImageView.slice2d-Tuple{Any,GtkReactive.ZoomRegion,ImageView.SliceData{false,N,Axs} where Axs where N}"><code>slice2d</code></a>.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.scalebar-Tuple{Dict,Any}" href="#ImageView.scalebar-Tuple{Dict,Any}"><code>ImageView.scalebar</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">scalebar(guidict::Dict, length; x = 0.8, y = 0.1, color = RGB(1,1,1))</code></pre><p>Add a scale bar annotation to the image display controlled by <code>guidict</code> (returned by <a href="#ImageView.imshow-Tuple{AbstractArray}"><code>imshow</code></a>). If the <a href="@ref"><code>pixelspacing</code></a> of the image is set using Unitful quantities, <code>length</code> should also be expressed in physical units.</p><p><code>x</code> and <code>y</code> control the placement of the scalebar, and <code>color</code> its rendered color.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.slice2d-Tuple{Any,GtkReactive.ZoomRegion,ImageView.SliceData{false,N,Axs} where Axs where N}" href="#ImageView.slice2d-Tuple{Any,GtkReactive.ZoomRegion,ImageView.SliceData{false,N,Axs} where Axs where N}"><code>ImageView.slice2d</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">slice2d(A, zr, sd) -&gt; A2</code></pre><p>Create a two-dimensional slice <code>A2</code> using the current ZoomRegion <code>zr</code> and SliceData <code>sd</code>.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.SliceData-Union{Tuple{N}, Tuple{transpose}, Tuple{Tuple{Vararg{Signal{Int64},N}},Tuple{Vararg{Axis,N}}}} where N where transpose" href="#ImageView.SliceData-Union{Tuple{N}, Tuple{transpose}, Tuple{Tuple{Vararg{Signal{Int64},N}},Tuple{Vararg{Axis,N}}}} where N where transpose"><code>ImageView.SliceData</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">SliceData{transpose::Bool}(signals::NTuple{N,Signal{Int}}, axes::NTuple{N,Axes})</code></pre><p>Specify slice information for a (possibly) multidimensional image. <code>signals</code> hold the currently-selected slices for the selected <code>axes</code>, all of which are effectively &quot;orthogonal&quot; to the plane in the viewer.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.canvas_size-Tuple{Gtk.GtkWindowLeaf,Any}" href="#ImageView.canvas_size-Tuple{Gtk.GtkWindowLeaf,Any}"><code>ImageView.canvas_size</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">canvas_size(win, requested_size) -&gt; (xsz, ysz)
canvas_size(screensize, requested_size) -&gt; (xsz, ysz)</code></pre><p>Limit the requested canvas size by the screen size. Both the output and <code>screensize</code> are supplied in Gtk order (x, y).</p><p>When supplying a GtkWindow <code>win</code>, the canvas size is limited to 60% of the total screen size.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.closeall-Tuple{}" href="#ImageView.closeall-Tuple{}"><code>ImageView.closeall</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">closeall()</code></pre><p>Closes all windows opened by ImageView2.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.default_canvas_size" href="#ImageView.default_canvas_size"><code>ImageView.default_canvas_size</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">default_canvas_size(imagesize, pixelaspectratio=1) -&gt; (xsz, ysz)</code></pre><p>Compute the canvas size for an image of size <code>imagesize</code> with the defined <code>pixelaspectratio</code>. Note that <code>imagesize</code> is supplied in coordinate order, i.e., (y, x) order, whereas the returned canvas size is in Gtk order, i.e., (x, y) order.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.imshowlabeled-Tuple{AbstractArray,AbstractArray}" href="#ImageView.imshowlabeled-Tuple{AbstractArray,AbstractArray}"><code>ImageView.imshowlabeled</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">imshowlabeled(img, label)</code></pre><p>Display <code>img</code>, but showing the pixel&#39;s <code>label</code> rather than the color value in the status bar.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.normalized_lengths-Tuple{AbstractArray{T,2} where T,Any,Any}" href="#ImageView.normalized_lengths-Tuple{AbstractArray{T,2} where T,Any,Any}"><code>ImageView.normalized_lengths</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">wnorm, hnorm = normalized_lengths(img, width, height)</code></pre><p>Convert absolute <code>width</code> and <code>height</code> into normalized variants. Depends on the <a href="@ref"><code>pixelspacing</code></a> of <code>img</code>.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ImageView.sliceinds-Tuple{Any,Any,Vararg{Any,N} where N}" href="#ImageView.sliceinds-Tuple{Any,Any,Vararg{Any,N} where N}"><code>ImageView.sliceinds</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">inds = sliceinds(img, roi, slices...)
inds = sliceinds(axs, roi, slices...)</code></pre><p>Return an indices-tuple <code>inds</code> that selects the region-of-interest <code>roi</code> at particular <code>slices</code> along orthogonal coordinates. Use <code>AxisArrays.Axis</code> to indicate out-of-order axes, either by dimension number (e.g., <code>Axis{3}</code>) or by name (<code>Axis{:z}</code>). If you&#39;re using dimension numbers, <code>slices</code> must list them in increasing order.</p><p><strong>Examples:</strong></p><pre><code class="language-julia">julia&gt; using AxisArrays: Axis

# Mimic a 4d array
julia&gt; axs = (1:1080, 1:1920, 1:20, 1:1000)
(1:1080, 1:1920, 1:20, 1:1000)

julia&gt; ImageView.sliceinds(axs, (6:10, 1:5), Axis{3}(7), Axis{4}(15))
(6:10, 1:5, 7, 15)

julia&gt; ImageView.sliceinds(axs, (6:10, 1:5), Axis{2}(7), Axis{4}(15))
(6:10, 7, 1:5, 15)

# Mimic a 4d AxisArray
julia&gt; axs = (Axis{:y}(1:1080), Axis{:x}(1:1920), Axis{:z}(1:20), Axis{:t}(1:1000))
(Axis{:y,UnitRange{Int64}}(1:1080), Axis{:x,UnitRange{Int64}}(1:1920), Axis{:z,UnitRange{Int64}}(1:20), Axis{:t,UnitRange{Int64}}(1:1000))

julia&gt; ImageView.sliceinds(axs, (6:10, 1:5), Axis{:t}(15), Axis{:z}(7))   # out-of-order OK
(6:10, 1:5, 7, 15)

julia&gt; ImageView.sliceinds(axs, (6:10, 1:5), Axis{:y}(15), Axis{:z}(7))
(15, 6:10, 7, 1:5)</code></pre></div></div></section><footer><hr/></footer></article></body></html>
